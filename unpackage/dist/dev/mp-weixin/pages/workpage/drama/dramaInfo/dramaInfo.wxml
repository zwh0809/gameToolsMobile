<view><view class="uni-list one_picker"><view class="uni-list-cell one_input"><view class="uni-list-cell-left">当前剧情:</view><view class="uni-list-cell-db pickerbox"><picker value="{{plotNumindex}}" range="{{allplot}}" range-key="plotNum" data-event-opts="{{[['change',[['bindPickerChange',['$event']]]]]}}" bindchange="__e"><view class="uni-input">{{allplot[plotNumindex].plotNum}}</view></picker><fa-icon class="icon_right" vue-id="1" type="chevron-right operation_icon" size="14" color="#666666" bind:__l="__l"></fa-icon></view></view></view><button hidden="{{!(!allbranch.merge)}}" class="button" type="button" data-event-opts="{{[['tap',[['gotoquestions',['$0'],['allbranch.plotId']]]]]}}" bindtap="__e">剧情问答</button><button hidden="{{!(!allbranch.merge)}}" class="button" type="button" data-event-opts="{{[['tap',[['togglePopup',['center','tip']]]]]}}" bindtap="__e">添加分支</button><button hidden="{{!(!allbranch.merge)}}" class="button" type="button" data-event-opts="{{[['tap',[['gotonotmatching',['$event']]]]]}}" bindtap="__e">无匹配问答</button><button class="button" type="button" data-event-opts="{{[['tap',[['submitPostdata',['$event']]]]]}}" bindtap="__e">保存数据</button><view class="headline">分支列表</view><view class="Branchbox"><uni-collapse vue-id="2" accordion="{{true}}" bind:__l="__l" vue-slots="{{['default']}}"><block wx:for="{{allbranch.plotBranchVos}}" wx:for-item="item" wx:for-index="index" wx:key="index"><uni-collapse-item vue-id="{{('3-'+index)+','+('2')}}" title="{{item.title}}" show-animation="{{item.animation}}" bind:__l="__l" vue-slots="{{['default']}}"><q-switch vue-id="{{('4-'+index)+','+('3-'+index)}}" variableName="switch" title="合并剧情" value="{{allbranch.merge}}" data-event-opts="{{[['^change',[['mergedrama',['$event',index]]]],['^input',[['__set_model',['$0','merge','$event',[]],['allbranch']]]]]}}" bind:change="__e" bind:input="__e" bind:__l="__l"></q-switch><view class="Branchbox_content"><view class="operationbox"><view data-event-opts="{{[['tap',[['togglePopup2',['center','editorBranchbox_title',index]]]]]}}" bindtap="__e">修改分支名</view><view data-event-opts="{{[['tap',[['deleteBranch',['$0'],[[['allbranch.plotBranchVos','',index]]]]]]]}}" bindtap="__e">删除此分支</view></view><view class="titlecenter"><view class="title">匹配玩家话语</view><fa-icon class="addicon" vue-id="{{('5-'+index)+','+('3-'+index)}}" type="plus-circle operation_icon" size="14" color="#666666" data-event-opts="{{[['^click',[['addmatching',[index]]]]]}}" bind:click="__e" bind:__l="__l"></fa-icon></view><block wx:for="{{item.plotBranchMatchFieldVos}}" wx:for-item="branch_item" wx:for-index="branch_index"><view class="one_utterance"><view class="pickerlist"><view class="uni-list one_picker"><view class="uni-list-cell one_input"><view class="uni-list-cell-left titlebox">匹配类型:</view><view class="uni-list-cell-db pickerbox"><picker value="{{branch_item.type_index}}" range="{{pagedata.cmpType}}" range-key="label" data-event-opts="{{[['change',[['utterance_operation1',['$event',index,branch_index]]]]]}}" bindchange="__e"><block wx:if="{{opopop}}"><view class="uni-input">{{branch_item.type_name?branch_item.type_name:'请选择'}}</view></block></picker><fa-icon class="icon_right" vue-id="{{('6-'+index+'-'+branch_index)+','+('3-'+index)}}" type="chevron-right operation_icon" size="14" color="#666666" bind:__l="__l"></fa-icon></view></view></view><view hidden="{{!(branch_item.type_name!=='任意')}}" class="uni-list one_picker"><view class="uni-list-cell one_input"><view class="uni-list-cell-left titlebox">比较符:</view><view class="uni-list-cell-db pickerbox"><picker value="{{branch_item.operator_index}}" range="{{branch_item.compare}}" range-key="label" data-event-opts="{{[['change',[['utterance_operation2',['$event',index,branch_index]]]]]}}" bindchange="__e"><block wx:if="{{opopop}}"><view class="uni-input">{{branch_item.operator_name?branch_item.operator_name:'请选择'}}</view></block></picker><fa-icon class="icon_right" vue-id="{{('7-'+index+'-'+branch_index)+','+('3-'+index)}}" type="chevron-right operation_icon" size="14" color="#666666" bind:__l="__l"></fa-icon></view></view></view><view hidden="{{!(branch_item.type_name!=='任意')}}" class="uni-list one_picker"><view class="uni-list-cell one_input"><view class="uni-list-cell-left titlebox special2">话语意图:</view><view data-event-opts="{{[['tap',[['show_tree',[index,branch_index]]]]]}}" class="uni-list-cell-db pickerbox special" bindtap="__e"><view class="uni-input">{{branch_item.conditionQuestion?branch_item.conditionQuestion:'请选择'}}</view><fa-icon class="icon_right" vue-id="{{('8-'+index+'-'+branch_index)+','+('3-'+index)}}" type="chevron-right operation_icon" size="14" color="#666666" bind:__l="__l"></fa-icon></view><view class="checkbox"><checkbox-group data-event-opts="{{[['change',[['checkboxChange1',['$event',index,branch_index]]]]]}}" class="uni-list" bindchange="__e"><block wx:for="{{checkboxItems}}" wx:for-item="item" wx:for-index="__i0__" wx:key="name"><label class="uni-list-cell uni-list-cell-pd"><view><checkbox value="{{item.name}}" checked="{{branch_item.active}}"></checkbox></view></label></block></checkbox-group><view>设为默认</view></view></view></view><view hidden="{{!(branch_item.type_name!=='任意')}}" class="uni-list one_picker"><view class="uni-list-cell one_input"><view class="uni-list-cell-left titlebox special2">关键字:</view><view class="uni-list-cell-db pickerbox special"><input class="uni-input" placeholder="输入关键词" data-event-opts="{{[['input',[['__set_model',['$0','comparedValue','$event',[]],[[['allbranch.plotBranchVos','',index],['plotBranchMatchFieldVos','',branch_index]]]]]]]}}" value="{{branch_item.comparedValue}}" bindinput="__e"/></view><view class="checkbox"><checkbox-group data-event-opts="{{[['change',[['checkboxChange2',['$event',index,branch_index]]]]]}}" class="uni-list" bindchange="__e"><block wx:for="{{checkboxItems}}" wx:for-item="item" wx:for-index="__i1__" wx:key="name"><label class="uni-list-cell uni-list-cell-pd"><view><checkbox value="{{item.name}}" checked="{{branch_item.accurateMatch}}"></checkbox></view></label></block></checkbox-group><view>精准匹配</view></view></view></view><view hidden="{{!(branch_item.type_name!=='任意')}}" class="uni-list one_picker"><view class="uni-list-cell one_input"><view class="uni-list-cell-left titlebox">保存限定词:</view><view class="uni-list-cell-db pickerbox"><picker value="{{value_index}}" range="{{allattr}}" range-key="name" data-event-opts="{{[['change',[['utterance_operation5',['$event',index,branch_index,'variableS']]]]]}}" bindchange="__e"><block wx:if="{{opopop}}"><view class="uni-input">{{branch_item.variableS?branch_item.variableS:'请选择'}}</view></block></picker><fa-icon class="icon_right" vue-id="{{('9-'+index+'-'+branch_index)+','+('3-'+index)}}" type="chevron-right operation_icon" size="14" color="#666666" bind:__l="__l"></fa-icon></view></view></view><view hidden="{{!(branch_item.type_name!=='任意')}}" class="uni-list one_picker"><view class="uni-list-cell one_input"><view class="uni-list-cell-left titlebox special2">保存关键词:</view><view class="uni-list-cell-db pickerbox special"><picker value="{{value_index}}" range="{{allattr}}" range-key="name" data-event-opts="{{[['change',[['utterance_operation5',['$event',index,branch_index,'variableO']]]]]}}" bindchange="__e"><block wx:if="{{opopop}}"><view class="uni-input">{{branch_item.variableO?branch_item.variableO:'请选择'}}</view></block></picker><fa-icon class="icon_right" vue-id="{{('10-'+index+'-'+branch_index)+','+('3-'+index)}}" type="chevron-right operation_icon" size="14" color="#666666" bind:__l="__l"></fa-icon></view><view class="checkbox"><checkbox-group data-event-opts="{{[['change',[['checkboxChange3',['$event',index,branch_index]]]]]}}" class="uni-list" bindchange="__e"><block wx:for="{{checkboxItems}}" wx:for-item="item" wx:for-index="__i2__" wx:key="name"><label class="uni-list-cell uni-list-cell-pd"><view><checkbox value="{{item.name}}" checked="{{branch_item.updateTime}}"></checkbox></view></label></block></checkbox-group><view>事先更新</view></view></view></view></view><view data-event-opts="{{[['tap',[['deleteplotBranchMatchFieldVos',['$0',index],[[['allbranch.plotBranchVos','',index],['plotBranchMatchFieldVos','',branch_index]]]]]]]}}" class="iconbox" bindtap="__e"><fa-icon vue-id="{{('11-'+index+'-'+branch_index)+','+('3-'+index)}}" type="trash-o operation_icon" size="32" color="#666666" bind:__l="__l"></fa-icon></view></view></block><uni-segmented-control vue-id="{{('12-'+index)+','+('3-'+index)}}" current="{{current}}" values="{{items}}" style-type="text" active-color="#409eff" data-event-opts="{{[['^clickItem',[['onClickItem']]]]}}" bind:clickItem="__e" bind:__l="__l"></uni-segmented-control><view class="content"><view hidden="{{!(current===0)}}">选项卡1的内容</view><view hidden="{{!(current===1)}}">选项卡2的内容</view><view hidden="{{!(current===2)}}">选项卡3的内容</view><view hidden="{{!(current===3)}}">选项卡4的内容</view></view></view><view class="nextPlotnum">下一步</view><view><view class="uni-list one_picker"><view class="uni-list-cell one_input"><view class="uni-list-cell-left">下一步:</view><view class="uni-list-cell-db pickerbox"><picker value="{{item.nextPlotNum_index?item.nextPlotNum_index:0}}" range="{{allplot2}}" range-key="plotNum" data-event-opts="{{[['change',[['selectnextPlotNum',['$event',index]]]]]}}" bindchange="__e"><view class="uni-input">{{item.nextPlotNum?item.nextPlotNum:'请选择下一步'}}</view></picker><fa-icon class="icon_right" vue-id="{{('13-'+index)+','+('3-'+index)}}" type="chevron-right operation_icon" size="14" color="#666666" bind:__l="__l"></fa-icon></view></view></view></view></uni-collapse-item></block></uni-collapse></view><uni-popup vue-id="14" show="{{addBranchbox}}" type="{{type}}" custom="{{true}}" mask-click="{{false}}" data-event-opts="{{[['^change',[['change']]]]}}" bind:change="__e" bind:__l="__l" vue-slots="{{['default']}}"><view class="uni-tip"><view class="uni-tip-title">添加分支</view><view class="uni-tip-content"><q-s-input bind:input="__e" vue-id="{{('15')+','+('14')}}" variableName="input" required layout="row" value="{{newValue}}" data-event-opts="{{[['^input',[['__set_model',['','newValue','$event',[]]]]]]}}" bind:__l="__l"></q-s-input></view><view class="uni-tip-group-button"><view data-event-opts="{{[['tap',[['cancel_addBranchbox',['cancel']]]]]}}" class="uni-tip-button" bindtap="__e">取消</view><view data-event-opts="{{[['tap',[['cancel_addBranchbox',['confirm']]]]]}}" class="uni-tip-button" bindtap="__e">确定</view></view></view></uni-popup><uni-popup vue-id="16" show="{{editorBranchbox_title}}" type="{{type}}" custom="{{true}}" mask-click="{{false}}" data-event-opts="{{[['^change',[['change']]]]}}" bind:change="__e" bind:__l="__l" vue-slots="{{['default']}}"><view class="uni-tip"><view class="uni-tip-title">修改分支名称</view><view class="uni-tip-content"><q-s-input bind:input="__e" vue-id="{{('17')+','+('16')}}" variableName="input" required layout="row" value="{{Branchbox_title}}" data-event-opts="{{[['^input',[['__set_model',['','Branchbox_title','$event',[]]]]]]}}" bind:__l="__l"></q-s-input></view><view class="uni-tip-group-button"><view data-event-opts="{{[['tap',[['cancel_editorBranchbox_title',['cancel','$0'],['present_index']]]]]}}" class="uni-tip-button" bindtap="__e">取消</view><view data-event-opts="{{[['tap',[['cancel_editorBranchbox_title',['confirm','$0'],['present_index']]]]]}}" class="uni-tip-button" bindtap="__e">确定</view></view></view></uni-popup><tki-tree class="vue-ref" vue-id="18" selectParent="{{selectParent}}" multiple="{{multiple}}" range="{{condition}}" rangeKey="nickName" data-ref="tkitree" data-event-opts="{{[['^treeItemTap',[['demo']]],['^confirm',[['treeConfirm']]],['^cancel',[['treeCancel']]]]}}" bind:treeItemTap="__e" bind:confirm="__e" bind:cancel="__e" bind:__l="__l"></tki-tree></view>