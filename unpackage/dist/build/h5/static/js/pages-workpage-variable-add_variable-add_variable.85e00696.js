(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-workpage-variable-add_variable-add_variable"],{"27ac":function(t,a,e){a=t.exports=e("2350")(!1),a.push([t.i,".uni-form-item .title[data-v-024b0371]{padding:%?20?% 0}",""])},8604:function(t,a,e){var n=e("27ac");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=e("4f06").default;o("002b9d5e",n,!0,{sourceMap:!1,shadowMode:!1})},8808:function(t,a,e){"use strict";e.r(a);var n=e("d0e3"),o=e("9123");for(var i in o)"default"!==i&&function(t){e.d(a,t,function(){return o[t]})}(i);e("b411");var s=e("2877"),c=Object(s["a"])(o["default"],n["a"],n["b"],!1,null,"024b0371",null);a["default"]=c.exports},9123:function(t,a,e){"use strict";e.r(a);var n=e("9392"),o=e.n(n);for(var i in n)"default"!==i&&function(t){e.d(a,t,function(){return n[t]})}(i);a["default"]=o.a},9392:function(t,a,e){"use strict";var n=e("288e");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,e("7f7f"),e("a481");var o=n(e("f499")),i={data:function(){return{postdata:{name:"",nickname:"",value:"",intro:"",projectId:"",isBase:!1},workinfo:{},type:"push",forbid:!1}},methods:{pushdata:function(){var t=this,a=JSON.parse((0,o.default)(t.postdata));a.nickname=a.nickname.replace(/,/g,","),a.nickname=a.nickname.replace(/，/g,","),a.nickname=a.nickname.replace(/^(\s|,)+|(\s|,)+$/g,""),a.projectId=t.workinfo.id,""!==a.name?"push"===t.type?t.$request.post("/global_attr/",a).then(function(t){console.log(t,"数据"),50003!=t.code?1==t.code&&uni.showModal({title:"提示",content:"增加成功",cancelText:"继续添加",confirmText:"返回列表",success:function(t){t.confirm?uni.navigateBack({delta:1}):t.cancel}}):uni.showToast({title:t.msg,icon:"none",duration:2e3})}).catch(function(t){console.error("error:",t)}):"change"===t.type&&t.$request.post("/global_attr/",a).then(function(t){console.log(t,"数据"),50003!=t.code?1==t.code&&uni.showModal({title:"提示",content:"编辑成功",cancelText:"继续编辑",confirmText:"返回列表",success:function(t){t.confirm?uni.navigateBack({delta:1}):t.cancel}}):uni.showToast({title:t.msg,icon:"none",duration:2e3})}).catch(function(t){console.error("error:",t)}):uni.showToast({title:"变量名称不能为空",icon:"none",duration:2e3})}},mounted:function(){},onLoad:function(t){var a=uni.getStorageSync("workinfo");if(this.workinfo=a,t.variable_info){this.type="change";var e=JSON.parse(t.variable_info);this.postdata=e,null===this.postdata.nickname&&(this.postdata.nickname=""),null===this.postdata.value&&(this.postdata.value=""),null===this.postdata.intro&&(this.postdata.intro="")}else this.type="push"}};a.default=i},b411:function(t,a,e){"use strict";var n=e("8604"),o=e.n(n);o.a},d0e3:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-uni-view",{staticClass:"page"},[e("v-uni-view",[e("v-uni-view",{},[e("QSInput",{attrs:{variableName:"input",required:"",layout:"column",disabled:t.postdata.isBase,title:"变量名称"},model:{value:t.postdata.name,callback:function(a){t.$set(t.postdata,"name",a)},expression:"postdata.name"}}),e("QSInput",{attrs:{variableName:"input",layout:"column",disabled:t.postdata.isBase,title:"变量别名",placeholder:"每个变量用逗号分隔"},model:{value:t.postdata.nickname,callback:function(a){t.$set(t.postdata,"nickname",a)},expression:"postdata.nickname"}}),e("QSTextarea",{attrs:{variableName:"textarea",textareaWidth:"100",layout:"column",title:"变量的值"},model:{value:t.postdata.value,callback:function(a){t.$set(t.postdata,"value",a)},expression:"postdata.value"}}),e("QSTextarea",{attrs:{variableName:"textarea",textareaWidth:"100",disabled:t.postdata.isBase,layout:"column",title:"变量简介"},model:{value:t.postdata.intro,callback:function(a){t.$set(t.postdata,"intro",a)},expression:"postdata.intro"}}),e("v-uni-button",{staticClass:"m-top",on:{click:function(a){a=t.$handleEvent(a),t.pushdata(a)}}},[t._v(t._s("push"===t.type?"确认添加":"确认编辑"))])],1)],1)],1)},o=[];e.d(a,"a",function(){return n}),e.d(a,"b",function(){return o})}}]);